<h2>Quản lý Môn Học</h2>

<form (ngSubmit)="saveCourse()">
  <input [(ngModel)]="formCourse.courseName" name="courseName" placeholder="Tên môn học" required>
  <input [(ngModel)]="formCourse.department" name="department" placeholder="Khoa" required>
  <input [(ngModel)]="formCourse.credits" name="credits" placeholder="Số tín chỉ" type="number">
  <input [(ngModel)]="formCourse.description" name="description" placeholder="Mô tả">
  <label>
    <input type="checkbox" [(ngModel)]="formCourse.isActive" name="isActive">
    Kích hoạt
  </label>

  <button type="submit">{{ editingCourseId ? 'Cập nhật' : 'Thêm mới' }}</button>
  <button type="button" (click)="cancelEdit()" *ngIf="editingCourseId">Hủy</button>
</form>

<hr>

<div *ngIf="isLoading">Đang tải dữ liệu...</div>
<div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

<table border="1" *ngIf="!isLoading && courses.length > 0">
  <thead>
    <tr>
      <th>ID</th>
      <th>Tên môn học</th>
      <th>Khoa</th>
      <th>Tín chỉ</th>
      <th>Kích hoạt</th>
      <th>Hành động</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let course of courses">
      <td>{{ course.courseId }}</td>
      <td>{{ course.courseName }}</td>
      <td>{{ course.department }}</td>
      <td>{{ course.credits }}</td>
      <td>{{ course.isActive ? '✔' : '✘' }}</td>
      <td>
        <button (click)="editCourse(course.courseId)">Sửa</button>
        <button (click)="deleteCourse(course.courseId)">Xóa</button>
      </td>
    </tr>
  </tbody>
</table>
