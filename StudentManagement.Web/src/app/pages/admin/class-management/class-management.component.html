<h2>Quản lý lớp học</h2>

<form (ngSubmit)="saveClass()">
  <label>Tên lớp:</label>
  <input [(ngModel)]="formClass.className" name="name" required />

  <label>Chuyên ngành:</label>
  <input [(ngModel)]="formClass.major" name="major" required />

  <label>Năm học:</label>
  <input [(ngModel)]="formClass.academicYear" name="academicYear" required />

  <button type="submit">{{ editingId ? 'Cập nhật' : 'Thêm mới' }}</button>
  <button type="button" (click)="cancelEdit()" *ngIf="editingId">Hủy</button>
</form>

<hr />

<div *ngIf="isLoading">Đang tải dữ liệu...</div>
<div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

<table *ngIf="!isLoading && classes.length > 0" border="1">
  <thead>
    <tr>
      <th>Tên lớp</th>
      <th>Chuyên ngành</th>
      <th>Năm học</th>
      <th>Hành động</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let cls of classes">
      <td>{{ cls.className }}</td>
      <td>{{ cls.major }}</td>
      <td>{{ cls.academicYear }}</td>
      <td>
        <button (click)="editClass(cls.classId)">Sửa</button>
        <button (click)="deleteClass(cls.classId)">Xóa</button>
      </td>
    </tr>
  </tbody>
</table>
