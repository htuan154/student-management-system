<div class="score-management">
  <h2>Quản lý điểm</h2>

  <form [formGroup]="scoreForm" (ngSubmit)="submitForm()">
    <div>
      <label>Mã đăng ký học</label>
      <input formControlName="enrollmentId" type="number" />
    </div>
    <div>
      <label>Điểm quá trình</label>
      <input formControlName="processScore" type="number" />
    </div>
    <div>
      <label>Điểm giữa kỳ</label>
      <input formControlName="midtermScore" type="number" />
    </div>
    <div>
      <label>Điểm cuối kỳ</label>
      <input formControlName="finalScore" type="number" />
    </div>

    <button type="submit">
      {{ isEditMode ? 'Cập nhật' : 'Thêm mới' }}
    </button>
    <button type="button" (click)="resetForm()">Hủy</button>
  </form>

  <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

  <div *ngIf="isLoading">Đang tải dữ liệu...</div>

  <table *ngIf="!isLoading && scores.length > 0">
    <thead>
      <tr>
        <th>#</th>
        <th>Mã đăng ký học</th>
        <th>Quá trình</th>
        <th>Giữa kỳ</th>
        <th>Cuối kỳ</th>
        <th>Hành động</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let score of scores; index as i">
        <td>{{ i + 1 }}</td>
        <td>{{ score.enrollmentId }}</td>
        <td>{{ score.processScore }}</td>
        <td>{{ score.midtermScore }}</td>
        <td>{{ score.finalScore }}</td>
        <td>
          <button (click)="editScore(score)">Sửa</button>
          <button (click)="deleteScore(score.scoreId)">Xóa</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
