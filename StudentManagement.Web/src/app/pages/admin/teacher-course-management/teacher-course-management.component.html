<h2>Quản lý phân công giảng dạy</h2>

<form (ngSubmit)="saveAssignment()">
  <label>Giáo viên ID:</label>
  <input [(ngModel)]="formAssignment.teacherId" name="teacherId" placeholder="Nhập mã giáo viên" required>

  <label>Khóa học ID:</label>
  <input [(ngModel)]="formAssignment.courseId" name="courseId" placeholder="Nhập mã môn học" required>

  <button type="submit">{{ editingId ? 'Cập nhật' : 'Thêm mới' }}</button>
  <button type="button" (click)="cancelEdit()" *ngIf="editingId">Hủy</button>
</form>

<hr>

<div *ngIf="isLoading">Đang tải dữ liệu...</div>
<div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

<table border="1" *ngIf="!isLoading && assignments.length > 0">
  <thead>
    <tr>
      <th>ID</th>
      <th>Giáo viên ID</th>
      <th>Môn học ID</th>
      <th>Hành động</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let a of assignments">
      <td>{{ a.teacherCourseId }}</td>
      <td>{{ a.teacherId }}</td>
      <td>{{ a.courseId }}</td>
      <td>
        <button (click)="editAssignment(a.teacherCourseId)">Sửa</button>
        <button (click)="deleteAssignment(a.teacherCourseId)">Xóa</button>
      </td>
    </tr>
  </tbody>
</table>
